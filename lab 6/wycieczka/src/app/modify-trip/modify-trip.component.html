<div class="trip-cards" *ngIf="trips != []">
    <div class="trip-modifier" *ngFor="let trip of trips" [class.card-edited]="edited==trip" [class.card-non-edited]="prevEdited==trip">
        <form [formGroup]="addingTripForms" class="form" [class.edited]="edited==trip" [class.non-edited]="prevEdited==trip">
            <p>Modify trip</p>
            <label for="name"> Trip name: </label>
            <select
                class="trip-name-select"
                formControlName="trip"
                (change)="changeTripName($event)"
                [ngStyle]="tripNameError ? {'border':  '2px solid red'} : {'border': '0'}">
                <option value="" disabled>Choose trip name</option>
                <option *ngFor="let t of trips" [ngValue]="t" [ngStyle]="t == trip ? {'background-color': 'orange'} : {}">
                    {{t.name}}
                </option>
            </select>
        
            <label for="name"> New trip name: </label>
            <input id="name" type="text" formControlName="name">
            <p class="error" *ngIf="name != null && name.invalid && name.touched">Invalid name: max 20 characters</p>
        
            <label for="country"> Country of destination: </label>
            <input id="country" type="text" formControlName="country">
        
            <div class="form-dates">
                <label for="start-date"> Date of start: </label>
                <input id="start-date" type="date" formControlName="startDate">
            
                <label for="end-date"> End of trip: </label>
                <input id="end-date" type="date" formControlName="endDate">
        
                <p class="error" *ngIf="!isDateValid">Enter proper dates</p>
            </div>
        
            <div class="cost-vac">
                <label for="cost"> Cost: </label>
                <input id="cost" type="number" formControlName="cost">
            
                <label for="vacants"> Vacants: </label>
                <input id="vacants" type="number" formControlName="vacants">
                <p class="error" *ngIf="cost != null && cost.invalid && cost.touched">Invalid cost format: 99 or 99.99</p>
                <p class="error" *ngIf="vacants != null && vacants.invalid && vacants.touched">Invalid vacants format: only numbers</p>
            </div>
        
            <label id="info"> Short description: </label>
            <input id="info" type="text" formControlName="shortInfo">
            <p class="error" *ngIf="info != null && info.invalid && info.touched">Max. 255 characters</p>
        
            <label id="url"> Image url: </label>
            <input id="url" type="text" formControlName="imgUrl">
        
            <button class="submit-button" (click)="onSubmit()">SUBMIT</button>
        </form>

        <div class="trip-card">
            <div class="delete-button">
                <fa-icon [icon]="faTrashCan" (click)="deleteTrip(trip)"></fa-icon>
            </div>
            <div class="edit-button" (click)="changeEdited(trip)">
                EDIT
            </div>
            <div class="left-side">
                <p class="country">
                    {{trip.country | uppercase}}
                </p>
                <div class="dates">
                    <p>From: {{trip.startDate}}</p>
                    <p>To: {{trip.endDate}}</p>
                </div>
                <div class="img-container">
                    <div class="trip-name">
                        {{trip.name | titlecase}}
                    </div>
                    <img src="{{ trip.image }}" class="trip-img">
                </div>
            </div>
            
            
            <div class="info">
                <p class="cost">
                    {{trip.cost}} PLN
                </p>
                <p class="trip-info">
                    {{trip.info}}
                </p> 
                <p class="vacants">
                    <b>Vacants:</b> {{trip.vacants}}
                </p>           
            </div>
        </div>
    </div>
</div>